@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix : <http://www.semanticweb.org/matheusdbampi/ontologies/2023/6/aal-ontology-lite/> .

# ---------------------------------------------
#               General Rules
# ---------------------------------------------

# if an observation is made by a sensor that observes heart rate, then the observation also observes heart rate
[observesInference: 
    (?o rdf:type sosa:Observation) 
    (?o sosa:madeBySensor ?s) 
    (?s sosa:observes :HeartRate) 
    -> 
    (?o sosa:observes :HeartRate)
]

# ---------------------------------------------
#               Medical Rules
# ---------------------------------------------

# if the heart rate is above 81, trigger
[heartRateRule: 
    (?o rdf:type sosa:Observation) 
    (?o sosa:observes :HeartRate) 
    (?o sosa:hasSimpleResult ?r) 
    greaterThan(?r, 78) 
    -> 
    (:triggerHeartrate rdf:type :Trigger)
    (:triggerHeartrate :hasValue ?r)
]
